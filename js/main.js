const lorem = `Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ullamcorper libero arcu, eget feugiat nibh auctor quis. Suspendisse lacinia nulla a sagittis convallis. Nullam eu dui a metus iaculis viverra ac at risus. Pellentesque nisl est, tristique in magna a, mollis aliquam lacus. Ut malesuada risus metus, non aliquet nunc ultricies et. Nullam purus magna, accumsan sed augue quis, accumsan sodales eros. Nulla sed bibendum dui, eu aliquet lacus. Curabitur placerat, nulla a mattis egestas, orci turpis ornare turpis, in semper ligula turpis id ante. Vestibulum et metus quis ante ullamcorper aliquet. Pellentesque blandit ipsum id dictum lobortis. Praesent cursus ac nisi quis condimentum. Integer erat diam, laoreet nec venenatis ut, posuere ut eros. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nulla porta quis diam nec pharetra. Vivamus nulla dolor, tristique ac ex sit amet, rhoncus luctus libero. Nulla iaculis turpis sem, ac bibendum risus semper in. Etiam at luctus neque. Maecenas eget interdum mi, quis imperdiet ex. Sed lacinia elit at mi tempor, quis viverra ligula semper. Duis nisl odio, elementum non malesuada id, commodo a ipsum. Donec ultrices urna ornare massa imperdiet, ac vulputate elit tempus. Phasellus sit amet orci elementum, luctus magna vel, semper ligula. Nunc pellentesque justo ut ligula imperdiet mollis. Fusce consequat molestie risus. Mauris sem justo, maximus vel nunc sed, venenatis venenatis tellus. Fusce hendrerit volutpat semper. Sed varius, neque sed varius facilisis, ex dolor convallis risus, ut hendrerit nibh magna convallis orci. Donec aliquet semper sapien, at tristique est aliquam in. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque finibus eu augue ac pellentesque. Proin dapibus dolor a tellus ultrices vulputate. Morbi fringilla diam quam, non semper nunc semper sit amet. Ut odio sapien, tristique nec sapien id, aliquet posuere leo. Cras et ipsum dui. Curabitur id sem non purus finibus malesuada. Suspendisse quis feugiat dolor, quis suscipit ante. Aliquam tincidunt eleifend nunc, non interdum diam vulputate eget. Praesent interdum, orci ac varius molestie, lectus est dignissim felis, vel iaculis dui justo lacinia dui. Duis id ante pharetra, lacinia magna pellentesque, bibendum risus. Mauris in tincidunt augue, eu luctus quam. Integer vel dictum augue, non auctor mi. Morbi non odio pulvinar, aliquet ex eu, accumsan eros. Curabitur eu elementum sem. Praesent ac fermentum lorem. Duis pulvinar mauris vitae metus placerat convallis. Proin sit amet ullamcorper eros, a semper ligula. Praesent scelerisque, ante at tempus vestibulum, nulla tellus facilisis augue, sit amet imperdiet magna ex non leo. Integer varius ipsum ut laoreet dignissim. Sed bibendum justo a dolor pretium mollis. Morbi faucibus sodales feugiat. Ut purus dui, commodo nec felis et, ullamcorper vulputate est. Suspendisse tempor tempus nisi ac hendrerit. Donec auctor porta urna et euismod. In velit nisi, rutrum nec nibh vel, auctor ultrices felis. In convallis massa sed nulla sagittis, ac consectetur velit facilisis. Suspendisse rhoncus mauris ac dui elementum fermentum. Suspendisse a accumsan diam. Duis a diam nisi. Nunc mi lacus, consectetur id nisl ac, tempor eleifend metus. Quisque ut diam vitae est congue rhoncus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam porta dui sed nisi auctor, a ullamcorper sem euismod. Nulla massa urna, mollis id fermentum eu, cursus vitae est. Proin blandit turpis sed ullamcorper pellentesque. Aliquam erat volutpat. Pellentesque sit amet pharetra velit. Nunc sodales euismod nisl, a tempus felis scelerisque eget. Phasellus vestibulum, risus eu fermentum luctus, mi est volutpat nisi, eu pulvinar diam sem a ipsum. Integer mattis, mi sit amet lobortis efficitur, eros sem pharetra velit, vitae malesuada ex leo mattis elit. Nulla sem mauris, tincidunt ac sollicitudin vel, mattis id leo. Nunc pellentesque lorem dui, nec molestie nunc ornare id. Fusce ultricies risus eget nisl tristique finibus. Duis neque enim, commodo sed vehicula id, hendrerit sed turpis. Pellentesque nisl enim, tempus nec justo pretium, sodales scelerisque augue. Integer eu semper mi, non viverra nisl. Phasellus arcu enim, convallis vel quam vitae, consectetur congue erat. Mauris pulvinar posuere magna ac porttitor. Mauris scelerisque elit non risus pretium placerat. Aenean sit amet consequat nisl. In quis dapibus risus. Vestibulum placerat tempor mauris, ut bibendum magna ornare eleifend. Ut placerat orci et tellus auctor, non suscipit diam placerat. Phasellus vitae ex turpis. Nunc feugiat dignissim erat, ut dignissim libero sollicitudin eu. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse lobortis, elit non luctus ultricies, ligula lacus vulputate erat, in fermentum enim nulla eget ligula. Sed tempus non eros et suscipit. Interdum et malesuada fames ac ante ipsum primis in faucibus. Sed porta ex leo, sit amet bibendum augue molestie at. Proin non nisl quis arcu lacinia luctus. Quisque quis viverra est. Sed sapien augue, dignissim hendrerit tortor at, fringilla efficitur massa. Proin rhoncus felis id lorem ullamcorper viverra. Mauris vehicula tincidunt quam id ornare. Mauris sit amet sodales felis. Phasellus metus tellus, egestas eu tempus vel, volutpat et felis. Morbi ultricies, massa nec efficitur facilisis, justo nibh sollicitudin est, vel finibus tellus sem nec est. Phasellus nisi turpis, varius nec finibus ut, tristique nec libero. Phasellus semper quam semper nisi mattis, quis pulvinar nunc porttitor. Donec metus nunc, vehicula vitae quam eu, pulvinar tincidunt tortor. In in ligula bibendum, eleifend felis eget, mollis turpis. Donec maximus ante lacinia, scelerisque est sit amet, ultrices sapien. Sed orci lacus, pulvinar id mi sit amet, hendrerit volutpat dui. Proin maximus est ut imperdiet egestas. Cras lorem ipsum, mollis condimentum sapien non, bibendum aliquam tortor. Suspendisse vitae libero malesuada ipsum auctor fringilla. Phasellus placerat neque non elementum varius. Etiam sit amet ornare orci. Etiam accumsan justo metus, id posuere justo dapibus dignissim. Sed aliquet magna mollis ante rhoncus tincidunt. Nullam malesuada dignissim finibus. In sit amet ipsum nec urna vestibulum blandit. Sed blandit aliquam dolor nec pulvinar. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aenean rutrum diam nec volutpat interdum. Vestibulum a ligula ex. Ut facilisis rhoncus lectus, eu luctus elit suscipit nec. Proin sed blandit nulla. Nam sed euismod elit. Aenean dapibus augue et eros consequat rutrum. Nunc blandit ligula urna, eget sagittis mauris ultricies ac massa at fusce.`;

var number,
		target = document.getElementsByTagName('p')[0],
		number = getParam('w').length ? (getParam('w') <= 1000 ? getParam('w') : 1000) : 100;

function generateLorem(number) {
	let output = lorem.split(' ').slice(0, number).join(' ');
	let el = document.createElement('p');
	output = output.replace(/[.,;:?!]$/,'') + '.';
	el.textContent = output;
	document.body.prepend(el);
	document.title += ` (${number})`;
}

function selectText(node = document.body) {
	let selection = window.getSelection();
	let range = document.createRange();
	range.selectNodeContents(node);
	selection.removeAllRanges();
	selection.addRange(range);
}

function getParam(sVar) {
  return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + escape(sVar).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));
}

generateLorem(number);
selectText(target);
